<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MADNESS: madness::ThreadPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MADNESS
   &#160;<span id="projectnumber">0.10.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemadness.html">madness</a></li><li class="navelem"><a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classmadness_1_1ThreadPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">madness::ThreadPool Class Reference<div class="ingroups"><a class="el" href="group__libraries.html">MADNESS libraries</a> &raquo; <a class="el" href="group__parallel__runtime.html">Parallel programming environment</a> &raquo; <a class="el" href="group__threading.html">Multi-threading</a> &raquo; <a class="el" href="group__threads.html">Threads</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classA.html">A</a> singleton pool of threads for dynamic execution of tasks.  
 <a href="classmadness_1_1ThreadPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thread_8h_source.html">thread.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for madness::ThreadPool:</div>
<div class="dyncontent">
<div class="center"><img src="classmadness_1_1ThreadPool__coll__graph.png" border="0" usemap="#madness_1_1ThreadPool_coll__map" alt="Collaboration graph"/></div>
<map name="madness_1_1ThreadPool_coll__map" id="madness_1_1ThreadPool_coll__map">
<area shape="rect" id="node1" title="A singleton pool of threads for dynamic execution of tasks. " alt="" coords="923,233,1069,260"/>
<area shape="rect" id="node2" href="classmadness_1_1ThreadPoolThread.html" title="ThreadPool thread object. " alt="" coords="613,120,798,147"/>
<area shape="rect" id="node3" href="classmadness_1_1Thread.html" title="Simplified thread wrapper to hide pthread complexity. " alt="" coords="350,17,469,44"/>
<area shape="rect" id="node4" href="classmadness_1_1ThreadBase.html" title="Simplified thread wrapper to hide pthread complexity. " alt="" coords="13,5,161,32"/>
<area shape="rect" id="node5" href="classmadness_1_1profiling_1_1TaskProfiler.html" title="This class collects and prints task profiling data. " alt="" coords="348,113,471,154"/>
<area shape="rect" id="node6" href="classmadness_1_1Mutex.html" title="Mutex using pthread mutex operations. " alt="" coords="29,56,144,83"/>
<area shape="rect" id="node7" href="classmadness_1_1profiling_1_1TaskEventListBase.html" title="Task event list base class. " alt="" coords="18,146,155,187"/>
<area shape="rect" id="node8" href="classmadness_1_1DQueue.html" title="madness::DQueue\&lt; madness\l::PoolTaskInterface *\&gt;" alt="" coords="611,226,799,267"/>
<area shape="rect" id="node9" href="classmadness_1_1PthreadConditionVariable.html" title="Simple wrapper for Pthread condition variable with its own mutex. " alt="" coords="307,212,512,239"/>
<area shape="rect" id="node10" href="classNO__DEFAULTS.html" title="Disables default copy constructor and assignment operators. " alt="" coords="29,212,144,239"/>
<area shape="rect" id="node11" href="classmadness_1_1PoolTaskInterface.html" title="Lowest level task interface. " alt="" coords="317,263,501,289"/>
<area shape="rect" id="node13" href="classmadness_1_1TaskAttributes.html" title="Contains attributes of a task. " alt="" coords="5,313,168,340"/>
<area shape="rect" id="node14" href="classmadness_1_1profiling_1_1TaskEvent.html" title="Task event class. " alt="" coords="25,365,148,406"/>
<area shape="rect" id="node15" href="structmadness_1_1DQStats.html" title="madness::DQStats" alt="" coords="345,313,473,340"/>
<area shape="rect" id="node16" href="classmadness_1_1AtomicInt.html" title="An integer with atomic set, get, read+increment, read+decrement, and decrement+test operations..." alt="" coords="638,292,773,319"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a54221a778f6789fc3301af0cd63bcdaa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a54221a778f6789fc3301af0cd63bcdaa">ThreadPool</a> (const <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;)=delete</td></tr>
<tr class="separator:a54221a778f6789fc3301af0cd63bcdaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c069db8c08b2f1619b56eb00d7d175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a25c069db8c08b2f1619b56eb00d7d175">ThreadPool</a> (<a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a25c069db8c08b2f1619b56eb00d7d175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f6ab336a870b30826b8025a4ce7a99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a81f6ab336a870b30826b8025a4ce7a99">~ThreadPool</a> ()</td></tr>
<tr class="memdesc:a81f6ab336a870b30826b8025a4ce7a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a81f6ab336a870b30826b8025a4ce7a99">More...</a><br /></td></tr>
<tr class="separator:a81f6ab336a870b30826b8025a4ce7a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db38b4e42a0c30d124e088533d6a3be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a6db38b4e42a0c30d124e088533d6a3be">operator=</a> (const <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;)=delete</td></tr>
<tr class="separator:a6db38b4e42a0c30d124e088533d6a3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fddbf1aba994934f69dac94ef9f2232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a2fddbf1aba994934f69dac94ef9f2232">operator=</a> (<a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a2fddbf1aba994934f69dac94ef9f2232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9222db40e04a65cffaa849a1161b8a4d"><td class="memTemplParams" colspan="2">template&lt;typename opT &gt; </td></tr>
<tr class="memitem:a9222db40e04a65cffaa849a1161b8a4d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a9222db40e04a65cffaa849a1161b8a4d">scan</a> (opT &amp;<a class="el" href="test__solvers_8cc.html#ad9ea8219fce53cf10491311a9aac2fc0">op</a>)</td></tr>
<tr class="separator:a9222db40e04a65cffaa849a1161b8a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a001ce29d282f2ba52e537520315aed3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a001ce29d282f2ba52e537520315aed3c">add</a> (<a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a> *task)</td></tr>
<tr class="memdesc:a001ce29d282f2ba52e537520315aed3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new task to the pool.  <a href="#a001ce29d282f2ba52e537520315aed3c">More...</a><br /></td></tr>
<tr class="separator:a001ce29d282f2ba52e537520315aed3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7324a8ad3c8fdca9fde9b2a59a7b3c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ac7324a8ad3c8fdca9fde9b2a59a7b3c7">add</a> (const std::vector&lt; <a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a> *&gt; &amp;tasks)</td></tr>
<tr class="memdesc:ac7324a8ad3c8fdca9fde9b2a59a7b3c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a vector of tasks to the pool.  <a href="#ac7324a8ad3c8fdca9fde9b2a59a7b3c7">More...</a><br /></td></tr>
<tr class="separator:ac7324a8ad3c8fdca9fde9b2a59a7b3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8387b0a17f450645cda2ee08ddffe73"><td class="memTemplParams" colspan="2">template&lt;typename Probe &gt; </td></tr>
<tr class="memitem:ae8387b0a17f450645cda2ee08ddffe73"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ae8387b0a17f450645cda2ee08ddffe73">await</a> (const Probe &amp;probe, bool dowork=true, bool sleep=false)</td></tr>
<tr class="memdesc:ae8387b0a17f450645cda2ee08ddffe73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gracefully wait for a condition to become true, executing any tasks in the queue.  <a href="#ae8387b0a17f450645cda2ee08ddffe73">More...</a><br /></td></tr>
<tr class="separator:ae8387b0a17f450645cda2ee08ddffe73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d08d3b6e33a18c29ec01cf712d48303"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a9d08d3b6e33a18c29ec01cf712d48303">begin</a> (int nthread=-1)</td></tr>
<tr class="memdesc:a9d08d3b6e33a18c29ec01cf712d48303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please invoke while in a single-threaded environment.  <a href="#a9d08d3b6e33a18c29ec01cf712d48303">More...</a><br /></td></tr>
<tr class="separator:a9d08d3b6e33a18c29ec01cf712d48303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ca687795889c0e966f62389a085274"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end</a> ()</td></tr>
<tr class="separator:a60ca687795889c0e966f62389a085274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2d1071c8732157ea5b5c91013b67dd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structmadness_1_1DQStats.html">DQStats</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a5f2d1071c8732157ea5b5c91013b67dd">get_stats</a> ()</td></tr>
<tr class="memdesc:a5f2d1071c8732157ea5b5c91013b67dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns queue statistics.  <a href="#a5f2d1071c8732157ea5b5c91013b67dd">More...</a><br /></td></tr>
<tr class="separator:a5f2d1071c8732157ea5b5c91013b67dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeade6cb1c5dbecd5eb6269eaccbef963"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#aeade6cb1c5dbecd5eb6269eaccbef963">get_threads</a> ()</td></tr>
<tr class="separator:aeade6cb1c5dbecd5eb6269eaccbef963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6cd2eed170e981763617360803e62d"><td class="memItemLeft" align="right" valign="top">static std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#abd6cd2eed170e981763617360803e62d">queue_size</a> ()</td></tr>
<tr class="memdesc:abd6cd2eed170e981763617360803e62d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of tasks in the queue.  <a href="#abd6cd2eed170e981763617360803e62d">More...</a><br /></td></tr>
<tr class="separator:abd6cd2eed170e981763617360803e62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03252a1a73c40d4c897f9775a5cc2b5f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a03252a1a73c40d4c897f9775a5cc2b5f">run_task</a> ()</td></tr>
<tr class="memdesc:a03252a1a73c40d4c897f9775a5cc2b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An otherwise idle thread can all this to run a task.  <a href="#a03252a1a73c40d4c897f9775a5cc2b5f">More...</a><br /></td></tr>
<tr class="separator:a03252a1a73c40d4c897f9775a5cc2b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb47fb79d64892dd76f30b488367321"><td class="memItemLeft" align="right" valign="top">static std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#afeb47fb79d64892dd76f30b488367321">size</a> ()</td></tr>
<tr class="memdesc:afeb47fb79d64892dd76f30b488367321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of threads in the pool.  <a href="#afeb47fb79d64892dd76f30b488367321">More...</a><br /></td></tr>
<tr class="separator:afeb47fb79d64892dd76f30b488367321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab03d550d6ebe40538bccf8574ce1e478"><td class="memItemLeft" align="right" valign="top">static tbb::task_scheduler_init *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ab03d550d6ebe40538bccf8574ce1e478">tbb_scheduler</a> = 0</td></tr>
<tr class="separator:ab03d550d6ebe40538bccf8574ce1e478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa63be68eebd78eeef99cbfce2d84a0df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool</a> (int nthread=-1)</td></tr>
<tr class="memdesc:aa63be68eebd78eeef99cbfce2d84a0df"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor is private to enforce the singleton model.  <a href="#aa63be68eebd78eeef99cbfce2d84a0df">More...</a><br /></td></tr>
<tr class="separator:aa63be68eebd78eeef99cbfce2d84a0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c94c772fff34bfb6e72e8862bbdb465"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a5c94c772fff34bfb6e72e8862bbdb465">default_nthread</a> ()</td></tr>
<tr class="memdesc:a5c94c772fff34bfb6e72e8862bbdb465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of threads from the environment.  <a href="#a5c94c772fff34bfb6e72e8862bbdb465">More...</a><br /></td></tr>
<tr class="separator:a5c94c772fff34bfb6e72e8862bbdb465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92476d9782167b9dc4a21b9056b0764"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ac92476d9782167b9dc4a21b9056b0764">run_task</a> (bool wait, <a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *this_thread)</td></tr>
<tr class="memdesc:ac92476d9782167b9dc4a21b9056b0764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the next task.  <a href="#ac92476d9782167b9dc4a21b9056b0764">More...</a><br /></td></tr>
<tr class="separator:ac92476d9782167b9dc4a21b9056b0764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9892e8b62912b6a0e5a4197afda3cfa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ab9892e8b62912b6a0e5a4197afda3cfa">run_tasks</a> (bool wait, <a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *const this_thread)</td></tr>
<tr class="separator:ab9892e8b62912b6a0e5a4197afda3cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8093cfb38af645ccad853679a80bb715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main</a> (<a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *const thread)</td></tr>
<tr class="separator:a8093cfb38af645ccad853679a80bb715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a65bd683ea3a7a8c6b184b789fb59e4a2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance</a> ()</td></tr>
<tr class="memdesc:a65bd683ea3a7a8c6b184b789fb59e4a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the only instance, constructing as necessary.  <a href="#a65bd683ea3a7a8c6b184b789fb59e4a2">More...</a><br /></td></tr>
<tr class="separator:a65bd683ea3a7a8c6b184b789fb59e4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad413a3db9d099fba200595ca7c41617d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ad413a3db9d099fba200595ca7c41617d">pool_thread_main</a> (void *v)</td></tr>
<tr class="memdesc:ad413a3db9d099fba200595ca7c41617d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwards the thread to bound member function.  <a href="#ad413a3db9d099fba200595ca7c41617d">More...</a><br /></td></tr>
<tr class="separator:ad413a3db9d099fba200595ca7c41617d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5057f032c052b55353747d75b10ebf07"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a5057f032c052b55353747d75b10ebf07">finish</a></td></tr>
<tr class="memdesc:a5057f032c052b55353747d75b10ebf07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true when time to stop.  <a href="#a5057f032c052b55353747d75b10ebf07">More...</a><br /></td></tr>
<tr class="separator:a5057f032c052b55353747d75b10ebf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d1eeee3fb414a087961f09d059c100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ac2d1eeee3fb414a087961f09d059c100">main_thread</a></td></tr>
<tr class="memdesc:ac2d1eeee3fb414a087961f09d059c100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Placeholder for main thread tls.  <a href="#ac2d1eeee3fb414a087961f09d059c100">More...</a><br /></td></tr>
<tr class="separator:ac2d1eeee3fb414a087961f09d059c100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ece6a52458dea448c30bb3e73e550a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmadness_1_1AtomicInt.html">AtomicInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a68ece6a52458dea448c30bb3e73e550a">nfinished</a></td></tr>
<tr class="memdesc:a68ece6a52458dea448c30bb3e73e550a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classmadness_1_1Thread.html" title="Simplified thread wrapper to hide pthread complexity. ">Thread</a> pool exit counter.  <a href="#a68ece6a52458dea448c30bb3e73e550a">More...</a><br /></td></tr>
<tr class="separator:a68ece6a52458dea448c30bb3e73e550a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005066e8ce308c7f57befca88a819fcb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a005066e8ce308c7f57befca88a819fcb">nthreads</a></td></tr>
<tr class="memdesc:a005066e8ce308c7f57befca88a819fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of threads.  <a href="#a005066e8ce308c7f57befca88a819fcb">More...</a><br /></td></tr>
<tr class="separator:a005066e8ce308c7f57befca88a819fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c4fa5c3addf7ecea8cce659daf43d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmadness_1_1DQueue.html">DQueue</a>&lt; <a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a></td></tr>
<tr class="memdesc:ab4c4fa5c3addf7ecea8cce659daf43d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of tasks.  <a href="#ab4c4fa5c3addf7ecea8cce659daf43d8">More...</a><br /></td></tr>
<tr class="separator:ab4c4fa5c3addf7ecea8cce659daf43d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7927dbd5fa4d8dfc02f30dee42585fe1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a7927dbd5fa4d8dfc02f30dee42585fe1">threads</a></td></tr>
<tr class="memdesc:a7927dbd5fa4d8dfc02f30dee42585fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classArray.html">Array</a> of threads.  <a href="#a7927dbd5fa4d8dfc02f30dee42585fe1">More...</a><br /></td></tr>
<tr class="separator:a7927dbd5fa4d8dfc02f30dee42585fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aacba5859728f090c286ce5e7fe83aece"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#aacba5859728f090c286ce5e7fe83aece">await_timeout</a> = 900.0</td></tr>
<tr class="memdesc:aacba5859728f090c286ce5e7fe83aece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiter timeout.  <a href="#aacba5859728f090c286ce5e7fe83aece">More...</a><br /></td></tr>
<tr class="separator:aacba5859728f090c286ce5e7fe83aece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76aa738103cf722c372fc49ef68c1f62"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#a76aa738103cf722c372fc49ef68c1f62">instance_ptr</a> = 0</td></tr>
<tr class="memdesc:a76aa738103cf722c372fc49ef68c1f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton pointer.  <a href="#a76aa738103cf722c372fc49ef68c1f62">More...</a><br /></td></tr>
<tr class="separator:a76aa738103cf722c372fc49ef68c1f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52947edc20bda9c6bcf457a4102a5f6"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ac52947edc20bda9c6bcf457a4102a5f6">nmax</a> = 128</td></tr>
<tr class="memdesc:ac52947edc20bda9c6bcf457a4102a5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of task a worker thread will pop from the task queue.  <a href="#ac52947edc20bda9c6bcf457a4102a5f6">More...</a><br /></td></tr>
<tr class="separator:ac52947edc20bda9c6bcf457a4102a5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac318dc3eece5b8b1a132cd10cf0a18b9"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1ThreadPool.html#ac318dc3eece5b8b1a132cd10cf0a18b9">WorldTaskQueue</a></td></tr>
<tr class="separator:ac318dc3eece5b8b1a132cd10cf0a18b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class=""><a class="el" href="classA.html">A</a> singleton pool of threads for dynamic execution of tasks. </p>
<dl class="section attention"><dt>Attention</dt><dd>You must instantiate the pool while running with just one thread. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a54221a778f6789fc3301af0cd63bcdaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54221a778f6789fc3301af0cd63bcdaa">&#9670;&nbsp;</a></span>ThreadPool() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">madness::ThreadPool::ThreadPool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a9d08d3b6e33a18c29ec01cf712d48303">begin()</a>.</p>

</div>
</div>
<a id="a25c069db8c08b2f1619b56eb00d7d175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c069db8c08b2f1619b56eb00d7d175">&#9670;&nbsp;</a></span>ThreadPool() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">madness::ThreadPool::ThreadPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa63be68eebd78eeef99cbfce2d84a0df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63be68eebd78eeef99cbfce2d84a0df">&#9670;&nbsp;</a></span>ThreadPool() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">madness::ThreadPool::ThreadPool </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nthread</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constructor is private to enforce the singleton model. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000171">Todo:</a></b></dt><dd>Description needed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nthread</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="namespaceSafeMPI.html#a0365d74d2b7bbe9d2d05dca25e4449f6">SafeMPI::COMM_WORLD</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a5c94c772fff34bfb6e72e8862bbdb465">default_nthread()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a76aa738103cf722c372fc49ef68c1f62">instance_ptr</a>, <a class="el" href="madness__exception_8h.html#ae80fa540b62afc0e301296b3102ec106">MADNESS_ASSERT</a>, <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ac2d1eeee3fb414a087961f09d059c100">main_thread</a>, <a class="el" href="crayio_8c.html#ab7e36af3707843f77cc5b4e831c2fa6d">malloc()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a68ece6a52458dea448c30bb3e73e550a">nfinished</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a005066e8ce308c7f57befca88a819fcb">nthreads</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ad413a3db9d099fba200595ca7c41617d">pool_thread_main()</a>, <a class="el" href="classmadness_1_1Thread.html#a272914eb6c174f402f971a68b5e73ea3">madness::Thread::start()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab03d550d6ebe40538bccf8574ce1e478">tbb_scheduler</a>, <a class="el" href="classmadness_1_1ThreadBase.html#a52a39f1e55e2de013bd792252df154b5">madness::ThreadBase::thread_key</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a7927dbd5fa4d8dfc02f30dee42585fe1">threads</a>.</p>

</div>
</div>
<a id="a81f6ab336a870b30826b8025a4ce7a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f6ab336a870b30826b8025a4ce7a99">&#9670;&nbsp;</a></span>~ThreadPool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">madness::ThreadPool::~ThreadPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#ab03d550d6ebe40538bccf8574ce1e478">tbb_scheduler</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a7927dbd5fa4d8dfc02f30dee42585fe1">threads</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a001ce29d282f2ba52e537520315aed3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001ce29d282f2ba52e537520315aed3c">&#9670;&nbsp;</a></span>add() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void madness::ThreadPool::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a new task to the pool. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000181">Todo:</a></b></dt><dd>Description needed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">task</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classmadness_1_1TaskAttributes.html#ae6e968f75bccd9ba79c024de65f7baae">madness::TaskAttributes::get_nthread()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, <a class="el" href="classmadness_1_1TaskAttributes.html#a8e076b97acfdfdeca3eadcaa24b019d8">madness::TaskAttributes::is_high_priority()</a>, <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>, and <a class="el" href="classmadness_1_1PoolTaskInterface.html#adf07122297a2ec40e2f5dfbb2d253ea7">madness::PoolTaskInterface::submit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#ac7324a8ad3c8fdca9fde9b2a59a7b3c7">add()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, <a class="el" href="test__atomicint_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, and <a class="el" href="structmadness_1_1TaskInterface_1_1Submit.html#af3bce936aa5a630b371958bad1b0997c">madness::TaskInterface::Submit::notify()</a>.</p>

</div>
</div>
<a id="ac7324a8ad3c8fdca9fde9b2a59a7b3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7324a8ad3c8fdca9fde9b2a59a7b3c7">&#9670;&nbsp;</a></span>add() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void madness::ThreadPool::add </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a vector of tasks to the pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tasks</td><td><a class="el" href="classmadness_1_1Vector.html" title="A simple, fixed dimension vector. ">Vector</a> of tasks to add to the pool. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a001ce29d282f2ba52e537520315aed3c">add()</a>, and <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>.</p>

</div>
</div>
<a id="ae8387b0a17f450645cda2ee08ddffe73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8387b0a17f450645cda2ee08ddffe73">&#9670;&nbsp;</a></span>await()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Probe &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void madness::ThreadPool::await </td>
          <td>(</td>
          <td class="paramtype">const Probe &amp;&#160;</td>
          <td class="paramname"><em>probe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dowork</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sleep</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gracefully wait for a condition to become true, executing any tasks in the queue. </p>
<p class="">Probe should be an object that, when called, returns the status. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000184">Todo:</a></b></dt><dd>Descriptions needed/need verification. </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Probe</td><td>Type of the probe. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">probe</td><td>The probe. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dowork</td><td>Do work while waiting - default is true </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sleep</td><td>Sleep instead of spin while waiting (e.g., to avoid pounding on MPI) - default is false </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#aacba5859728f090c286ce5e7fe83aece">await_timeout</a>, <a class="el" href="namespacemadness.html#a1ae5928a1d5da5680156d9e198da3fa0">madness::cpu_time()</a>, <a class="el" href="tdse1d_8cc.html#a557717b333342f1e34a905d6162ce493">current_time</a>, <a class="el" href="namespacemadness.html#a6fdbb37761291a94124616676e4795e1">madness::myusleep()</a>, <a class="el" href="classmadness_1_1MutexWaiter.html#ab843b88921ea1ec543e011e84df844ef">madness::MutexWaiter::reset()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a03252a1a73c40d4c897f9775a5cc2b5f">run_task()</a>, and <a class="el" href="classmadness_1_1MutexWaiter.html#a87c587f58178daf80f1ce9593bd45971">madness::MutexWaiter::wait()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1World.html#a7b8149faf3e3d18d6522ea1c4fa38698">madness::World::await()</a>, and <a class="el" href="classmadness_1_1WorldTaskQueue.html#af2ba91df02ee26e595b4b5f711b5ac96">madness::WorldTaskQueue::fence()</a>.</p>

</div>
</div>
<a id="a9d08d3b6e33a18c29ec01cf712d48303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d08d3b6e33a18c29ec01cf712d48303">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::begin </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nthread</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please invoke while in a single-threaded environment. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000179">Todo:</a></b></dt><dd>Verify documentation. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nthread</td><td>The number of threads. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#aacba5859728f090c286ce5e7fe83aece">await_timeout</a>, <a class="el" href="namespaceSafeMPI.html#a0365d74d2b7bbe9d2d05dca25e4449f6">SafeMPI::COMM_WORLD</a>, <a class="el" href="classSafeMPI_1_1Intracomm.html#a6298efac88c69530f75b0525f5065996">SafeMPI::Intracomm::Get_rank()</a>, <a class="el" href="classmadness_1_1ThreadBase.html#ab312b5faa5c8faab91b0d975c0a6f70b">madness::ThreadBase::init_thread_key()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a76aa738103cf722c372fc49ef68c1f62">instance_ptr</a>, <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#adb34ac1f190892e2742404dfada8da2b">madness::profiling::TaskProfiler::output_file_name_</a>, <a class="el" href="namespacemadness.html#a92a9dd9ae49d5763bf51edc67f73730b">madness::quiet()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#afeb47fb79d64892dd76f30b488367321">size()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a54221a778f6789fc3301af0cd63bcdaa">ThreadPool()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacemadness.html#a5f683fb18f01253e0b38bf3c525cb795">madness::initialize()</a>.</p>

</div>
</div>
<a id="a5c94c772fff34bfb6e72e8862bbdb465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c94c772fff34bfb6e72e8862bbdb465">&#9670;&nbsp;</a></span>default_nthread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int madness::ThreadPool::default_nthread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of threads from the environment. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of threads. </dd></dl>

<p class="reference">References <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>, <a class="el" href="classmadness_1_1ThreadBase.html#a7189e47a5c37cae264119ecd0bca88c9">madness::ThreadBase::num_hw_processors()</a>, and <a class="el" href="helium__mp2_8cc.html#aa62318cb2637a9dfcb106b69c01d669c">shift</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="a60ca687795889c0e966f62389a085274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ca687795889c0e966f62389a085274">&#9670;&nbsp;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000180">Todo:</a></b></dt><dd>Description needed. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a001ce29d282f2ba52e537520315aed3c">add()</a>, <a class="el" href="classmadness_1_1ThreadBase.html#a6d9e6b7bb395945bc5ec5c8b546db3b8">madness::ThreadBase::delete_thread_key()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a5057f032c052b55353747d75b10ebf07">finish</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a76aa738103cf722c372fc49ef68c1f62">instance_ptr</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ac2d1eeee3fb414a087961f09d059c100">main_thread</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a68ece6a52458dea448c30bb3e73e550a">nfinished</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a005066e8ce308c7f57befca88a819fcb">nthreads</a>, <a class="el" href="classmadness_1_1ThreadPoolThread.html#a95a2884d9cb46e4259724e6639918a95">madness::ThreadPoolThread::profiler()</a>, and <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#a2825bd56accd89748c2f7ffb7b04e32b">madness::profiling::TaskProfiler::write_to_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacemadness.html#a326cf304974224597661e46246240263">madness::finalize()</a>.</p>

</div>
</div>
<a id="a5f2d1071c8732157ea5b5c91013b67dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2d1071c8732157ea5b5c91013b67dd">&#9670;&nbsp;</a></span>get_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmadness_1_1DQStats.html">DQStats</a> &amp; madness::ThreadPool::get_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns queue statistics. </p>
<dl class="section return"><dt>Returns</dt><dd>Queue statistics. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacemadness.html#a3a8e3c51bdb4c3e8363e8f73aeccd216">madness::print_stats()</a>.</p>

</div>
</div>
<a id="aeade6cb1c5dbecd5eb6269eaccbef963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeade6cb1c5dbecd5eb6269eaccbef963">&#9670;&nbsp;</a></span>get_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a>* madness::ThreadPool::get_threads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="">Access the pool thread array </p><dl class="section return"><dt>Returns</dt><dd>ptr to the pool thread array, its size is given by <code><a class="el" href="classmadness_1_1ThreadPool.html#afeb47fb79d64892dd76f30b488367321" title="Returns the number of threads in the pool. ">size()</a></code> </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a7927dbd5fa4d8dfc02f30dee42585fe1">threads</a>.</p>

</div>
</div>
<a id="a65bd683ea3a7a8c6b184b789fb59e4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bd683ea3a7a8c6b184b789fb59e4a2">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a>* madness::ThreadPool::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a pointer to the only instance, constructing as necessary. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classA.html">A</a> pointer to the only instance. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a76aa738103cf722c372fc49ef68c1f62">instance_ptr</a>, and <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a001ce29d282f2ba52e537520315aed3c">add()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a5f2d1071c8732157ea5b5c91013b67dd">get_stats()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#aeade6cb1c5dbecd5eb6269eaccbef963">get_threads()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ad413a3db9d099fba200595ca7c41617d">pool_thread_main()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#abd6cd2eed170e981763617360803e62d">queue_size()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a03252a1a73c40d4c897f9775a5cc2b5f">run_task()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#afeb47fb79d64892dd76f30b488367321">size()</a>.</p>

</div>
</div>
<a id="a6db38b4e42a0c30d124e088533d6a3be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db38b4e42a0c30d124e088533d6a3be">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2fddbf1aba994934f69dac94ef9f2232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fddbf1aba994934f69dac94ef9f2232">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad413a3db9d099fba200595ca7c41617d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad413a3db9d099fba200595ca7c41617d">&#9670;&nbsp;</a></span>pool_thread_main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * madness::ThreadPool::pool_thread_main </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwards the thread to bound member function. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000177">Todo:</a></b></dt><dd>Descriptions needed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Description needed. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="abd6cd2eed170e981763617360803e62d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6cd2eed170e981763617360803e62d">&#9670;&nbsp;</a></span>queue_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::size_t madness::ThreadPool::queue_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of tasks in the queue. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of tasks in the queue. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>.</p>

</div>
</div>
<a id="ac92476d9782167b9dc4a21b9056b0764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92476d9782167b9dc4a21b9056b0764">&#9670;&nbsp;</a></span>run_task() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool madness::ThreadPool::run_task </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *&#160;</td>
          <td class="paramname"><em>this_thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the next task. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000172">Todo:</a></b></dt><dd>Verify and complete this documentation. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wait</td><td>Block of true. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this_thread</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a task was run. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1profiling_1_1TaskEventList.html#a203126f9c467ccba71f7e5d9e99238bf">madness::profiling::TaskEventList::event()</a>, <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>, <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#aa3f419a00832dab74becfe7c28bd7761">madness::profiling::TaskProfiler::new_list()</a>, <a class="el" href="classmadness_1_1ThreadPoolThread.html#a95a2884d9cb46e4259724e6639918a95">madness::ThreadPoolThread::profiler()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>.</p>

</div>
</div>
<a id="a03252a1a73c40d4c897f9775a5cc2b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03252a1a73c40d4c897f9775a5cc2b5f">&#9670;&nbsp;</a></span>run_task() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool madness::ThreadPool::run_task </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An otherwise idle thread can all this to run a task. </p>
<dl class="section return"><dt>Returns</dt><dd>True if a task was run. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab9892e8b62912b6a0e5a4197afda3cfa">run_tasks()</a>, and <a class="el" href="classmadness_1_1ThreadBase.html#aea9eeb98e842db915ea87c17a46fb63a">madness::ThreadBase::this_thread()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#ae8387b0a17f450645cda2ee08ddffe73">await()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main()</a>.</p>

</div>
</div>
<a id="ab9892e8b62912b6a0e5a4197afda3cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9892e8b62912b6a0e5a4197afda3cfa">&#9670;&nbsp;</a></span>run_tasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool madness::ThreadPool::run_tasks </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *const&#160;</td>
          <td class="paramname"><em>this_thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000173">Todo:</a></b></dt><dd>Brief description needed. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000174">Todo:</a></b></dt><dd>Descriptions needed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wait</td><td>Description needed. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this_thread</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Description needed. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1profiling_1_1TaskEventList.html#a203126f9c467ccba71f7e5d9e99238bf">madness::profiling::TaskEventList::event()</a>, <a class="el" href="madness__exception_8h.html#a629efc935073cf10318bc5bf759ad8f3">MADNESS_EXCEPTION</a>, <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#aa3f419a00832dab74becfe7c28bd7761">madness::profiling::TaskProfiler::new_list()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ac52947edc20bda9c6bcf457a4102a5f6">nmax</a>, <a class="el" href="classmadness_1_1ThreadPoolThread.html#a95a2884d9cb46e4259724e6639918a95">madness::ThreadPoolThread::profiler()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>, and <a class="el" href="classmadness_1_1PoolTaskInterface.html#ac23cd6f239c1a75755a1b77a31c7f22a">madness::PoolTaskInterface::set_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a03252a1a73c40d4c897f9775a5cc2b5f">run_task()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main()</a>.</p>

</div>
</div>
<a id="a9222db40e04a65cffaa849a1161b8a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9222db40e04a65cffaa849a1161b8a4d">&#9670;&nbsp;</a></span>scan()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename opT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::scan </td>
          <td>(</td>
          <td class="paramtype">opT &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000182">Todo:</a></b></dt><dd>Brief description needed. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000183">Todo:</a></b></dt><dd>Descriptions needed. </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">opT</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">op</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="kain_8cc.html#ad9ea8219fce53cf10491311a9aac2fc0">op()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#ab4c4fa5c3addf7ecea8cce659daf43d8">queue</a>.</p>

</div>
</div>
<a id="afeb47fb79d64892dd76f30b488367321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeb47fb79d64892dd76f30b488367321">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::size_t madness::ThreadPool::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of threads in the pool. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of threads in the pool. </dd></dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a005066e8ce308c7f57befca88a819fcb">nthreads</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a9d08d3b6e33a18c29ec01cf712d48303">begin()</a>, <a class="el" href="classmadness_1_1RMI_1_1RmiTask.html#a7662d34cb520497c5bc73bb006354ebc">madness::RMI::RmiTask::huge_msg_handler()</a>, <a class="el" href="namespacemadness.html#a5f683fb18f01253e0b38bf3c525cb795">madness::initialize()</a>, <a class="el" href="test__queue_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, <a class="el" href="namespacemadness.html#a3a8e3c51bdb4c3e8363e8f73aeccd216">madness::print_stats()</a>, <a class="el" href="test__world_8cc.html#a13342334c119ddc5bb68a680233ffca3">test_multi()</a>, and <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#a2825bd56accd89748c2f7ffb7b04e32b">madness::profiling::TaskProfiler::write_to_file()</a>.</p>

</div>
</div>
<a id="a8093cfb38af645ccad853679a80bb715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8093cfb38af645ccad853679a80bb715">&#9670;&nbsp;</a></span>thread_main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::ThreadPool::thread_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> *const&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000175">Todo:</a></b></dt><dd>Brief description needed. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000176">Todo:</a></b></dt><dd>Description needed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thread</td><td>Description needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classmadness_1_1ThreadPool.html#a5057f032c052b55353747d75b10ebf07">finish</a>, <a class="el" href="classmadness_1_1ThreadBase.html#aedefc5646f4662ef6ffadc87f521fe8a">madness::ThreadBase::get_pool_thread_index()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a68ece6a52458dea448c30bb3e73e550a">nfinished</a>, <a class="el" href="worldprofile_8h.html#a6d8d0a44c43fa9eeea531795eff18b84">PROFILE_MEMBER_FUNC</a>, <a class="el" href="classmadness_1_1ThreadPoolThread.html#a95a2884d9cb46e4259724e6639918a95">madness::ThreadPoolThread::profiler()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a03252a1a73c40d4c897f9775a5cc2b5f">run_task()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab9892e8b62912b6a0e5a4197afda3cfa">run_tasks()</a>, <a class="el" href="classmadness_1_1ThreadBase.html#a90a69bfa5302fbd93c5ceea4c2c73080">madness::ThreadBase::set_affinity()</a>, and <a class="el" href="classmadness_1_1profiling_1_1TaskProfiler.html#a2825bd56accd89748c2f7ffb7b04e32b">madness::profiling::TaskProfiler::write_to_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#ad413a3db9d099fba200595ca7c41617d">pool_thread_main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ac318dc3eece5b8b1a132cd10cf0a18b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac318dc3eece5b8b1a132cd10cf0a18b9">&#9670;&nbsp;</a></span>WorldTaskQueue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classmadness_1_1WorldTaskQueue.html">WorldTaskQueue</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aacba5859728f090c286ce5e7fe83aece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacba5859728f090c286ce5e7fe83aece">&#9670;&nbsp;</a></span>await_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double madness::ThreadPool::await_timeout = 900.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waiter timeout. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#ae8387b0a17f450645cda2ee08ddffe73">await()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a9d08d3b6e33a18c29ec01cf712d48303">begin()</a>.</p>

</div>
</div>
<a id="a5057f032c052b55353747d75b10ebf07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5057f032c052b55353747d75b10ebf07">&#9670;&nbsp;</a></span>finish</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool madness::ThreadPool::finish</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set to true when time to stop. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main()</a>.</p>

</div>
</div>
<a id="a76aa738103cf722c372fc49ef68c1f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76aa738103cf722c372fc49ef68c1f62">&#9670;&nbsp;</a></span>instance_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmadness_1_1ThreadPool.html">ThreadPool</a> * madness::ThreadPool::instance_ptr = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton pointer. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a9d08d3b6e33a18c29ec01cf712d48303">begin()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a65bd683ea3a7a8c6b184b789fb59e4a2">instance()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="ac2d1eeee3fb414a087961f09d059c100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d1eeee3fb414a087961f09d059c100">&#9670;&nbsp;</a></span>main_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a> madness::ThreadPool::main_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Placeholder for main thread tls. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="a68ece6a52458dea448c30bb3e73e550a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ece6a52458dea448c30bb3e73e550a">&#9670;&nbsp;</a></span>nfinished</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmadness_1_1AtomicInt.html">AtomicInt</a> madness::ThreadPool::nfinished</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmadness_1_1Thread.html" title="Simplified thread wrapper to hide pthread complexity. ">Thread</a> pool exit counter. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a8093cfb38af645ccad853679a80bb715">thread_main()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="ac52947edc20bda9c6bcf457a4102a5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52947edc20bda9c6bcf457a4102a5f6">&#9670;&nbsp;</a></span>nmax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int madness::ThreadPool::nmax = 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of task a worker thread will pop from the task queue. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#ab9892e8b62912b6a0e5a4197afda3cfa">run_tasks()</a>.</p>

</div>
</div>
<a id="a005066e8ce308c7f57befca88a819fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005066e8ce308c7f57befca88a819fcb">&#9670;&nbsp;</a></span>nthreads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int madness::ThreadPool::nthreads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of threads. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a60ca687795889c0e966f62389a085274">end()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#afeb47fb79d64892dd76f30b488367321">size()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>.</p>

</div>
</div>
<a id="ab4c4fa5c3addf7ecea8cce659daf43d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c4fa5c3addf7ecea8cce659daf43d8">&#9670;&nbsp;</a></span>queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmadness_1_1DQueue.html">DQueue</a>&lt;<a class="el" href="classmadness_1_1PoolTaskInterface.html">PoolTaskInterface</a>*&gt; madness::ThreadPool::queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of tasks. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#a001ce29d282f2ba52e537520315aed3c">add()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#a5f2d1071c8732157ea5b5c91013b67dd">get_stats()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#abd6cd2eed170e981763617360803e62d">queue_size()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ac92476d9782167b9dc4a21b9056b0764">run_task()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#ab9892e8b62912b6a0e5a4197afda3cfa">run_tasks()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a9222db40e04a65cffaa849a1161b8a4d">scan()</a>.</p>

</div>
</div>
<a id="ab03d550d6ebe40538bccf8574ce1e478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03d550d6ebe40538bccf8574ce1e478">&#9670;&nbsp;</a></span>tbb_scheduler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tbb::task_scheduler_init * madness::ThreadPool::tbb_scheduler = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000178">Todo:</a></b></dt><dd>Description needed. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a81f6ab336a870b30826b8025a4ce7a99">~ThreadPool()</a>.</p>

</div>
</div>
<a id="a7927dbd5fa4d8dfc02f30dee42585fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7927dbd5fa4d8dfc02f30dee42585fe1">&#9670;&nbsp;</a></span>threads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmadness_1_1ThreadPoolThread.html">ThreadPoolThread</a>* madness::ThreadPool::threads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classArray.html">Array</a> of threads. </p>

<p class="reference">Referenced by <a class="el" href="classmadness_1_1ThreadPool.html#aeade6cb1c5dbecd5eb6269eaccbef963">get_threads()</a>, <a class="el" href="classmadness_1_1ThreadPool.html#aa63be68eebd78eeef99cbfce2d84a0df">ThreadPool()</a>, and <a class="el" href="classmadness_1_1ThreadPool.html#a81f6ab336a870b30826b8025a4ce7a99">~ThreadPool()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="thread_8h_source.html">thread.h</a></li>
<li><a class="el" href="thread_8cc.html">thread.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 6 2020 16:37:53 for MADNESS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
